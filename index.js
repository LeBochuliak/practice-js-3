import"./assets/styles-JE8YjOlG.js";import{a as s}from"./assets/vendor-CWxt7QI6.js";const c=document.querySelector(".categories"),r=document.querySelector(".products"),u=document.querySelector(".not-found"),S=document.querySelector(".modal__content"),h=document.querySelector(".modal"),p=document.querySelector(".search-form"),o=document.querySelector(".load-more-btn");function q(t){const e=`<li class='categories__item'>   
                  <button type='button' class='categories__btn'>${t}</button>
        </li>`;return c.insertAdjacentHTML("beforeend",e)}function y(t,e){e!=="all"&&(t=t.filter(i=>i.category===e));const n=t.map(({id:i,images:g,title:d,brand:m,category:_,price:f})=>`<li class="products__item" data-id="${i}">
    <img class="products__image" src="${g[0]}" alt="${d}"/>
    <p class="products__title">${d}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${m}</span></p>
    <p class="products__category">Category: ${_}</p>
    <p class="products__price">Price: ${f}$</p>
 </li>`).join("");r.insertAdjacentHTML("beforeend",n)}function E({images:t,title:e,price:n,tags:i,description:g,shippingInformation:d,returnPolicy:m}){const _=i.map(v=>`<li><p>${v}</p></li>`).join(""),f=`<img class="modal-product__img" src="${t[0]}" alt="${e}" />
            <div class="modal-product__content">
                <p class="modal-product__title">${e}</p>
                <ul class="modal-product__tags">${_}</ul>
                <p class="modal-product__description">${g}</p>
                <p class="modal-product__shipping-information">Shipping: ${d}</p>
                <p class="modal-product__return-policy">Return Policy: ${m}</p>
                <p class="modal-product__price">Price: ${n}$</p>
                <button class="modal-product__buy-btn" type="button">Buy</button>
            </div>
`;S.insertAdjacentHTML("beforeend",f)}const a={page:1};s.defaults.baseURL="https://dummyjson.com/products";function H(){s.get("/category-list").then(t=>t.data.forEach(e=>{q(e)})).catch(t=>{console.error("Error loading categories data:",t),alert("Unfortunately, the categories data could not be loaded. Please try again later.")})}function l(){s.get(`?limit=12&skip=${(a.page-1)*12}`).then(t=>{o.classList.add("is-hidden"),y(t.data.products,"all"),Math.ceil(t.data.total/12)>a.page&&o.classList.remove("is-hidden")}).catch(t=>{console.error("Error loading products data:",t),alert("Unfortunately, the products data could not be loaded. Please try again later.")})}function b(t){s.get(`/category/${t}?limit=12&skip=${(a.page-1)*12}`).then(e=>{if(o.classList.add("is-hidden"),e.data.products.length===0){u.classList.add("not-found--visible");return}u.classList.remove("not-found--visible"),y(e.data.products,t),Math.ceil(e.data.total/12)>a.page&&o.classList.remove("is-hidden")}).catch(e=>{console.error("Error loading category data:",e),alert("Unfortunately, the category data could not be loaded. Please try again later.")})}function M(t){s.get(`/${t}`).then(e=>E(e.data)).catch(e=>{console.error("Error loading product data:",e),alert("Unfortunately, the product data could not be loaded. Please try again later.")})}function L(t){s.get(`/search?q=${t}&limit=12&skip=${(a.page-1)*12}`).then(e=>{if(o.classList.add("is-hidden"),e.data.products.length===0){u.classList.add("not-found--visible");return}u.classList.remove("not-found--visible"),y(e.data.products,"all"),Math.ceil(e.data.total/12)>a.page&&o.classList.remove("is-hidden")}).catch(e=>{console.error("Error loading products data:",e),alert("Unfortunately, the products data could not be loaded. Please try again later.")})}function $(){c.querySelector(".categories__btn").textContent==="all"&&c.querySelector(".categories__btn").classList.add("categories__btn--active")}function P(t){const e=t.target.closest("form").querySelector(".search-form__input");a.page=1,t.target.classList.contains("search-form__btn-clear")&&(e.value="",r.innerHTML="",l())}function k(t){if(t.target.tagName==="BUTTON"){if(a.page=1,c.querySelectorAll(".categories__btn").forEach(e=>e.classList.remove("categories__btn--active")),t.target.classList.add("categories__btn--active"),t.target.textContent==="all"){r.innerHTML="",l();return}r.innerHTML="",b(t.target.textContent)}}function C(t){const e=t.target.closest("li");e&&(M(e.dataset.id),h.classList.add("modal--is-open"))}function T(t){if(t.preventDefault(),a.page=1,t.target.elements.searchValue.value.trim()===""){alert("Please, enter a search term!"),r.innerHTML="",l();return}c.querySelectorAll(".categories__btn").forEach(e=>e.classList.remove("categories__btn--active")),$(),r.innerHTML="",L(t.target.elements.searchValue.value)}function x(){const t=document.querySelector(".categories__btn--active").textContent;if(a.page++,t!=="all"){b(t);return}if(p.querySelector("input")!==""){L(p.querySelector("input").value);return}l()}function A(t){t.target.classList.contains("modal__close-btn")&&h.classList.remove("modal--is-open")}H();l();$();c.addEventListener("click",k);r.addEventListener("click",C);h.addEventListener("click",A);p.addEventListener("submit",T);p.addEventListener("click",P);o.addEventListener("click",x);
//# sourceMappingURL=index.js.map
