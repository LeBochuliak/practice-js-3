import"./assets/styles-JE8YjOlG.js";import{a as n}from"./assets/vendor-CWxt7QI6.js";const s=document.querySelector(".categories"),r=document.querySelector(".products"),u=document.querySelector(".not-found"),q=document.querySelector(".modal__content"),p=document.querySelector(".modal"),g=document.querySelector(".search-form"),o=document.querySelector(".load-more-btn");function E(t){const e=`<li class='categories__item'>   
                  <button type='button' class='categories__btn'>${t}</button>
        </li>`;return s.insertAdjacentHTML("beforeend",e)}function h(t,e){e!=="all"&&(t=t.filter(i=>i.category===e));const c=t.map(({id:i,images:m,title:d,brand:_,category:f,price:y})=>`<li class="products__item" data-id="${i}">
    <img class="products__image" src="${m[0]}" alt="${d}"/>
    <p class="products__title">${d}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${_}</span></p>
    <p class="products__category">Category: ${f}</p>
    <p class="products__price">Price: ${y}$</p>
 </li>`).join("");r.insertAdjacentHTML("beforeend",c)}function P({id:t,images:e,title:c,price:i,tags:m,description:d,shippingInformation:_,returnPolicy:f}){const y=m.map(S=>`<li><p>${S}</p></li>`).join(""),v=`<div class="js-modal-product-container" data-id=${t}>
            <img class="modal-product__img" src="${e[0]}" alt="${c}" />
            <div class="modal-product__content">
                <p class="modal-product__title">${c}</p>
                <ul class="modal-product__tags">${y}</ul>
                <p class="modal-product__description">${d}</p>
                <p class="modal-product__shipping-information">Shipping: ${_}</p>
                <p class="modal-product__return-policy">Return Policy: ${f}</p>
                <p class="modal-product__price">Price: ${i}$</p>
                <button class="modal-product__buy-btn" type="button">Buy</button>
            </div>
        </div>
        
`;q.insertAdjacentHTML("beforeend",v)}const a={page:1},H=[];n.defaults.baseURL="https://dummyjson.com/products";function M(){n.get("/category-list").then(t=>t.data.forEach(e=>{E(e)})).catch(t=>{console.error("Error loading categories data:",t),alert("Unfortunately, the categories data could not be loaded. Please try again later.")})}function l(){n.get(`?limit=12&skip=${(a.page-1)*12}`).then(t=>{o.classList.add("is-hidden"),h(t.data.products,"all"),Math.ceil(t.data.total/12)>a.page&&o.classList.remove("is-hidden")}).catch(t=>{console.error("Error loading products data:",t),alert("Unfortunately, the products data could not be loaded. Please try again later.")})}function b(t){n.get(`/category/${t}?limit=12&skip=${(a.page-1)*12}`).then(e=>{if(o.classList.add("is-hidden"),e.data.products.length===0){u.classList.add("not-found--visible");return}u.classList.remove("not-found--visible"),h(e.data.products,t),Math.ceil(e.data.total/12)>a.page&&o.classList.remove("is-hidden")}).catch(e=>{console.error("Error loading category data:",e),alert("Unfortunately, the category data could not be loaded. Please try again later.")})}function k(t){n.get(`/${t}`).then(e=>P(e.data)).catch(e=>{console.error("Error loading product data:",e),alert("Unfortunately, the product data could not be loaded. Please try again later.")})}function L(t){n.get(`/search?q=${t}&limit=12&skip=${(a.page-1)*12}`).then(e=>{if(o.classList.add("is-hidden"),e.data.products.length===0){u.classList.add("not-found--visible");return}u.classList.remove("not-found--visible"),h(e.data.products,"all"),Math.ceil(e.data.total/12)>a.page&&o.classList.remove("is-hidden")}).catch(e=>{console.error("Error loading products data:",e),alert("Unfortunately, the products data could not be loaded. Please try again later.")})}function $(){s.querySelector(".categories__btn").textContent==="all"&&s.querySelector(".categories__btn").classList.add("categories__btn--active")}function T(t){const e=t.target.closest("form").querySelector(".search-form__input");a.page=1,t.target.classList.contains("search-form__btn-clear")&&(e.value="",r.innerHTML="",l())}function C(t){if(t.target.tagName==="BUTTON"){if(a.page=1,s.querySelectorAll(".categories__btn").forEach(e=>e.classList.remove("categories__btn--active")),t.target.classList.add("categories__btn--active"),t.target.textContent==="all"){r.innerHTML="",l();return}r.innerHTML="",b(t.target.textContent)}}function x(t){const e=t.target.closest("li");e&&(k(e.dataset.id),p.classList.add("modal--is-open"))}function A(t){if(t.preventDefault(),a.page=1,t.target.elements.searchValue.value.trim()===""){alert("Please, enter a search term!"),r.innerHTML="",l();return}s.querySelectorAll(".categories__btn").forEach(e=>e.classList.remove("categories__btn--active")),$(),r.innerHTML="",L(t.target.elements.searchValue.value)}function j(){const t=document.querySelector(".categories__btn--active").textContent;if(a.page++,t!=="all"){b(t);return}if(g.querySelector("input")!==""){L(g.querySelector("input").value);return}l()}function U(t){t.target.classList.contains("modal__close-btn")&&(p.classList.remove("modal--is-open"),p.querySelector(".js-modal-product-container").remove()),t.target.classList.contains("modal-product__btn--cart")&&H.push(t.currentTarget.querySelector(".js-modal-product-container").dataset.id)}M();l();$();s.addEventListener("click",C);r.addEventListener("click",x);p.addEventListener("click",U);g.addEventListener("submit",A);g.addEventListener("click",T);o.addEventListener("click",j);
//# sourceMappingURL=index.js.map
