{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-function.js","../src/js/constants.js","../src/js/products-api.js","../src/js/helpers.js","../src/js/handlers.js","../src/js/modal.js","../src/home.js"],"sourcesContent":["// обʼєкт refs з посиланнями на елементи ДОМ.\n\nexport const categoriesList = document.querySelector('.categories');\nexport const productsList = document.querySelector('.products');\nexport const emptyContainer = document.querySelector('.not-found');\nexport const modalContentContainer = document.querySelector('.modal__content');\nexport const modalConteiner = document.querySelector('.modal');\nexport const formEl = document.querySelector('.search-form');\nexport const loadMoreBtn = document.querySelector('.load-more-btn');","// функції для відображення елементів інтерфейсу.\nimport { categoriesList, productsList, modalContentContainer } from \"./refs\";\n\nexport function renderCategoriesList(nameCategory) {\n    const markup = `<li class='categories__item'>   \n                  <button type='button' class='categories__btn'>${nameCategory}</button>\n        </li>`;\n    return categoriesList.insertAdjacentHTML('beforeend', markup);\n    \n}\n\nexport function renderProductsList(products, category) {\n    if (category !== \"all\") {\n        products = products.filter(el => el.category === category);\n    }\n    const markup = products.map(({id, images, title, brand, category, price}) => {\n\n        return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`;\n    }).join(\"\");\n    productsList.insertAdjacentHTML('beforeend', markup);\n};\n\nexport function renderProduct({id, images, title, price, tags, description, shippingInformation, returnPolicy}) {\n    const markupTags = tags.map(el => `<li><p>${el}</p></li>`).join(\"\");\n    const markup =  \n        `<div class=\"js-modal-product-container\" data-id=${id}>\n            <img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n            <div class=\"modal-product__content\">\n                <p class=\"modal-product__title\">${title}</p>\n                <ul class=\"modal-product__tags\">${markupTags}</ul>\n                <p class=\"modal-product__description\">${description}</p>\n                <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n                <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n                <p class=\"modal-product__price\">Price: ${price}$</p>\n                <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n            </div>\n        </div>\n        \n`;\n    modalContentContainer.insertAdjacentHTML('beforeend', markup)\n}","// константи, які будуть використовуватись в роботі.\n\nexport const currentPage = {\n    page: 1\n};\n\n\nexport const formSubmitted = {\n    status: false,\n\n    setFormSubmitted(value) {\n    this.status = value;\n    return this.status;\n    },\n\n    getFormSubmitted() {\n    return this.status;\n    }\n}\n\nexport const cartProducts = [];\nexport const wishlistProducts = [];","// функції для запитів на бекенд.\n\nimport axios from 'axios';\nimport { renderCategoriesList, renderProductsList, renderProduct } from './render-function';\nimport { emptyContainer, loadMoreBtn } from './refs';\nimport { currentPage } from './constants';\n\naxios.defaults.baseURL = 'https://dummyjson.com/products';\n\nexport function categoriesAxios() {\n    axios.get('/category-list')\n    .then(response => response.data.forEach(el => {\n        renderCategoriesList(el);\n    }))\n    .catch(error => {\n            console.error('Error loading categories data:', error);\n            alert('Unfortunately, the categories data could not be loaded. Please try again later.');\n        })\n};\n\nexport function productsListAxios() {\n    axios.get(`?limit=12&skip=${(currentPage.page - 1)* 12}`)\n        .then(response => {\n            loadMoreBtn.classList.add('is-hidden');\n            renderProductsList(response.data.products, 'all');\n            let pages = Math.ceil(response.data.total / 12);\n            if (pages > currentPage.page) {\n                loadMoreBtn.classList.remove('is-hidden')\n            }\n        })\n        .catch(error => {\n            console.error('Error loading products data:', error);\n            alert('Unfortunately, the products data could not be loaded. Please try again later.');\n        })\n        \n};\n\nexport function categoryAxios(category) {\n    axios.get(`/category/${category}?limit=12&skip=${(currentPage.page - 1)* 12}`)\n        .then(response => { \n            loadMoreBtn.classList.add('is-hidden');\n            if (response.data.products.length === 0) {\n                emptyContainer.classList.add('not-found--visible');\n                return;\n            };\n            emptyContainer.classList.remove('not-found--visible');\n            renderProductsList(response.data.products, category); \n            let pages = Math.ceil(response.data.total / 12);\n            if (pages > currentPage.page) {\n                loadMoreBtn.classList.remove('is-hidden')\n            }        \n        })\n        .catch(error => {\n            console.error('Error loading category data:', error);\n            alert('Unfortunately, the category data could not be loaded. Please try again later.');\n        })\n};\n\nexport function productAxios(id) {\n    axios.get(`/${id}`)\n        .then(response => renderProduct(response.data))\n        .catch(error => {\n            console.error('Error loading product data:', error);\n            alert('Unfortunately, the product data could not be loaded. Please try again later.');\n        })\n        \n};\n\nexport function searchAxios(value) {\n    axios.get(`/search?q=${value}&limit=12&skip=${(currentPage.page - 1)* 12}`)\n        .then(response => {\n            loadMoreBtn.classList.add('is-hidden');\n            if (response.data.products.length === 0) {\n                emptyContainer.classList.add('not-found--visible');\n                return;\n            }\n            emptyContainer.classList.remove('not-found--visible');\n            renderProductsList(response.data.products, 'all');\n            let pages = Math.ceil(response.data.total / 12);\n            if (pages > currentPage.page) {\n                loadMoreBtn.classList.remove('is-hidden')\n            } \n        })\n        .catch(error => {\n            console.error('Error loading products data:', error);\n            alert('Unfortunately, the products data could not be loaded. Please try again later.');\n        })\n\n}","// допоміжні функції, які знадобляться для реалізації завдання\nimport { categoriesList, productsList } from \"./refs\";\nimport { productsListAxios } from \"./products-api\";\nimport { currentPage } from \"./constants\";\n\nexport function defaultCategory() {\n   if(categoriesList.querySelector('.categories__btn').textContent === 'all'){\n        categoriesList.querySelector('.categories__btn').classList.add('categories__btn--active');\n   } \n}\n\nexport function clearSearchBtn(event) {\n   const input = event.target.closest('form').querySelector('.search-form__input');\n   currentPage.page = 1;\n   if (event.target.classList.contains('search-form__btn-clear')) {\n      input.value = '';\n      productsList.innerHTML = '';\n      productsListAxios();\n   }\n}","// хендлери, які передаються в addEventListener.\nimport { categoriesList, productsList, modalConteiner, formEl } from \"./refs\";\nimport { productsListAxios, categoryAxios, productAxios, searchAxios } from \"./products-api\";\nimport { currentPage } from \"./constants\";\nimport { defaultCategory } from \"./helpers\";\n\nexport function categoryProductsHandler(event) {\n    if (event.target.tagName !== 'BUTTON') {\n        return;\n    }\n    currentPage.page = 1;\n    categoriesList.querySelectorAll('.categories__btn').forEach((el) => el.classList.remove('categories__btn--active'));\n    \n    event.target.classList.add('categories__btn--active');\n    if (event.target.textContent === 'all') {\n        productsList.innerHTML = '';\n        productsListAxios();\n        return;\n    }\n    \n    productsList.innerHTML = '';\n    categoryAxios(event.target.textContent);\n};\n\nexport function productHandler(event) {\n    const li = event.target.closest('li');\n    if (!li) return;\n    productAxios(li.dataset.id);  \n    \n    modalConteiner.classList.add('modal--is-open');\n}\n\nexport function searchHandler(event) {\n    event.preventDefault();\n    currentPage.page = 1;\n    if (event.target.elements.searchValue.value.trim() === '') {\n        alert('Please, enter a search term!');\n        productsList.innerHTML = '';\n        productsListAxios();\n        return;\n    } \n    categoriesList.querySelectorAll('.categories__btn').forEach((el) => el.classList.remove('categories__btn--active'));\n    defaultCategory();\n    productsList.innerHTML = '';\n    searchAxios(event.target.elements.searchValue.value); \n};\n\nexport function loadMoreHandler() {\n    const category = document.querySelector('.categories__btn--active').textContent;\n    currentPage.page ++;\n    if (category !== 'all') {\n        categoryAxios(category);\n        return;\n    };\n    if (formEl.querySelector('input') !== '') {\n        searchAxios(formEl.querySelector('input').value);\n        return;\n    }\n    productsListAxios();\n}\n","// функції модального вікна (відкриття, закриття і так далі).\nimport { modalConteiner } from \"./refs\";\nimport { cartProducts, wishlistProducts } from \"./constants\";\n\nexport function modalHandler(event) {\n    if(event.target.classList.contains('modal__close-btn')) {\n        modalConteiner.classList.remove('modal--is-open');\n        modalConteiner.querySelector('.js-modal-product-container').remove();\n         \n    };\n    if(event.target.classList.contains('modal-product__btn--cart')) {\n        \n        cartProducts.push(event.currentTarget.querySelector('.js-modal-product-container').dataset.id);\n        \n    }\n}","//Логіка сторінки Home\n\nimport { categoriesAxios, productsListAxios } from \"./js/products-api\";\nimport { categoriesList, productsList, modalConteiner, formEl, loadMoreBtn } from \"./js/refs\";\nimport { defaultCategory, clearSearchBtn } from \"./js/helpers\";\nimport { categoryProductsHandler, productHandler, searchHandler, loadMoreHandler} from \"./js/handlers\";\nimport { modalHandler } from \"./js/modal\";\n\ncategoriesAxios();\nproductsListAxios();\ndefaultCategory();\n\n\ncategoriesList.addEventListener('click', categoryProductsHandler);\n\nproductsList.addEventListener('click', productHandler);\n\nmodalConteiner.addEventListener('click', modalHandler);\n\nformEl.addEventListener('submit', searchHandler);\n\nformEl.addEventListener('click', clearSearchBtn);\n\nloadMoreBtn.addEventListener('click', loadMoreHandler);"],"names":["categoriesList","productsList","emptyContainer","modalContentContainer","modalConteiner","formEl","loadMoreBtn","renderCategoriesList","nameCategory","markup","renderProductsList","products","category","el","id","images","title","brand","price","renderProduct","tags","description","shippingInformation","returnPolicy","markupTags","currentPage","cartProducts","axios","categoriesAxios","response","error","productsListAxios","categoryAxios","productAxios","searchAxios","value","defaultCategory","clearSearchBtn","event","input","categoryProductsHandler","productHandler","li","searchHandler","loadMoreHandler","modalHandler"],"mappings":"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"}