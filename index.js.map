{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-function.js","../src/js/products-api.js","../src/js/helpers.js","../src/js/constants.js","../src/js/handlers.js","../src/js/modal.js","../src/home.js"],"sourcesContent":["// обʼєкт refs з посиланнями на елементи ДОМ.\n\nexport const categoriesList = document.querySelector('.categories');\nexport const productsList = document.querySelector('.products');\nexport const emptyContainer = document.querySelector('.not-found');\nexport const modalContentContainer = document.querySelector('.modal__content');\nexport const modalConteiner = document.querySelector('.modal');","// функції для відображення елементів інтерфейсу.\nimport { categoriesList, productsList, modalContentContainer } from \"./refs\";\n\nexport function renderCategoriesList(nameCategory) {\n    const markup = `<li class='categories__item'>   \n                  <button type='button' class='categories__btn'>${nameCategory}</button>\n        </li>`;\n    return categoriesList.insertAdjacentHTML('beforeend', markup);\n    \n}\n\nexport function renderProductsList(products, category) {\n    if (category !== \"all\") {\n        products = products.filter(el => el.category === category);\n    }\n    const markup = products.map(({id, images, title, brand, category, price}) => {\n\n        return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`;\n    }).join(\"\");\n    productsList.insertAdjacentHTML('beforeend', markup);\n};\n\nexport function renderProduct({images, title, price, tags, description, shippingInformation, returnPolicy}) {\n    const markupTags = tags.map(el => `<li><p>${el}</p></li>`).join(\"\");\n    const markup =  \n        `<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n            <div class=\"modal-product__content\">\n                <p class=\"modal-product__title\">${title}</p>\n                <ul class=\"modal-product__tags\">${markupTags}</ul>\n                <p class=\"modal-product__description\">${description}</p>\n                <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n                <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n                <p class=\"modal-product__price\">Price: ${price}$</p>\n                <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n            </div>\n`;\n    modalContentContainer.insertAdjacentHTML('beforeend', markup)\n}","// функції для запитів на бекенд.\n\nimport axios from 'axios';\nimport { renderCategoriesList, renderProductsList, renderProduct } from './render-function';\nimport { emptyContainer } from './refs';\n\naxios.defaults.baseURL = 'https://dummyjson.com/products';\n\nexport function categoriesAxios() {\n    axios.get('/category-list')\n    .then(response => response.data.forEach(el => {\n        renderCategoriesList(el);\n    }))\n    .catch(error => {\n            console.error('Error loading categories data:', error);\n            alert('Unfortunately, the categories data could not be loaded. Please try again later.');\n        })\n};\n\nexport function productsAxios() {\n    let currentPage = 1;\n    axios.get(`?limit=12&skip=${(currentPage - 1)* 12}`)\n        .then(response => renderProductsList(response.data.products, 'all'))\n        .catch(error => {\n            console.error('Error loading products data:', error);\n            alert('Unfortunately, the products data could not be loaded. Please try again later.');\n        })\n        \n};\n\nexport function categoryAxios(category, startPagination, endPagination) {\n    axios.get(`/category/${category}`)\n        .then(response => { \n            if (response.data.products.length === 0) {\n                emptyContainer.classList.add('not-found--visible');\n                return;\n            }\n            emptyContainer.classList.remove('not-found--visible');\n            renderProductsList(response.data.products.slice(startPagination, endPagination), category);           \n        })\n        .catch(error => {\n            console.error('Error loading category data:', error);\n            alert('Unfortunately, the category data could not be loaded. Please try again later.');\n        })\n};\n\nexport function productAxios(id) {\n    axios.get(`/${id}`)\n        .then(response => renderProduct(response.data))\n        .catch(error => {\n            console.error('Error loading product data:', error);\n            alert('Unfortunately, the product data could not be loaded. Please try again later.');\n        })\n        \n};","// допоміжні функції, які знадобляться для реалізації завдання\nimport { categoriesList } from \"./refs\";\n\nexport function defaultCategory() {\n   if(categoriesList.querySelector('.categories__btn').textContent === 'all'){\n        categoriesList.querySelector('.categories__btn').classList.add('categories__btn--active');\n   } \n}","// константи, які будуть використовуватись в роботі.\n\nexport let startCategoryPagination = 0;\nexport let endCategoryPagination = 12;","// хендлери, які передаються в addEventListener.\nimport { categoriesList, productsList, modalConteiner } from \"./refs\";\nimport { productsAxios, categoryAxios, productAxios } from \"./products-api\";\nimport { startCategoryPagination, endCategoryPagination } from \"./constants\";\n\nexport function categoryProductsHandler(event) {\n    if (event.target.tagName !== 'BUTTON') {\n        return;\n    }\n    categoriesList.querySelectorAll('.categories__btn').forEach((el) => el.classList.remove('categories__btn--active'));\n    \n    event.target.classList.add('categories__btn--active');\n    if (event.target.textContent === 'all') {\n        productsList.innerHTML = '';\n        productsAxios();\n        return;\n    }\n    \n    productsList.innerHTML = '';\n    categoryAxios(event.target.textContent, startCategoryPagination, endCategoryPagination);\n};\n\nexport function productHandler(event) {\n    const li = event.target.closest('li');\n    if (!li) return;\n    productAxios(li.dataset.id);   \n    modalConteiner.classList.add('modal--is-open');\n}","// функції модального вікна (відкриття, закриття і так далі).\nimport { modalConteiner } from \"./refs\";\n\nexport function modalHandler(event) {\n    if(event.target.classList.contains('modal__close-btn')) {\n        modalConteiner.classList.remove('modal--is-open');\n    };\n}","//Логіка сторінки Home\n\nimport { categoriesAxios, productsAxios } from \"./js/products-api\";\nimport { categoriesList, productsList, modalConteiner } from \"./js/refs\";\nimport { defaultCategory } from \"./js/helpers\";\nimport { categoryProductsHandler, productHandler } from \"./js/handlers\";\nimport { modalHandler } from \"./js/modal\";\n\ncategoriesAxios();\nproductsAxios();\ndefaultCategory();\n\n\ncategoriesList.addEventListener('click', categoryProductsHandler);\n\nproductsList.addEventListener('click', productHandler);\n\nmodalConteiner.addEventListener('click', modalHandler);"],"names":["categoriesList","productsList","emptyContainer","modalContentContainer","modalConteiner","renderCategoriesList","nameCategory","markup","renderProductsList","products","category","el","id","images","title","brand","price","renderProduct","tags","description","shippingInformation","returnPolicy","markupTags","axios","categoriesAxios","response","error","productsAxios","categoryAxios","startPagination","endPagination","productAxios","defaultCategory","startCategoryPagination","endCategoryPagination","categoryProductsHandler","event","productHandler","li","modalHandler"],"mappings":"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"}