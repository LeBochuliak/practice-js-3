{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-function.js","../src/js/products-api.js","../src/js/constants.js","../src/js/helpers.js","../src/home.js"],"sourcesContent":["// обʼєкт refs з посиланнями на елементи ДОМ.\n\nexport const categoriesList = document.querySelector('.categories');\nexport const productsList = document.querySelector('.products');\nexport const emptyContainer = document.querySelector('.not-found');","// функції для відображення елементів інтерфейсу.\nimport { categoriesList, productsList } from \"./refs\";\n\nexport function renderCategoriesList(nameCategory) {\n    const markup = `<li class='categories__item'>   \n                  <button type='button' class='categories__btn'>${nameCategory}</button>\n        </li>`;\n    return categoriesList.insertAdjacentHTML('beforeend', markup);\n    \n}\n\nexport function renderProductsList(products, category) {\n    if (category !== \"all\") {\n        products = products.filter(el => el.category === category);\n    }\n    const markup = products.map(({id, images, title, brand, category, price}) => {\n\n        return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`;\n    }).join(\"\");\n    productsList.insertAdjacentHTML('beforeend', markup);\n}","// функції для запитів на бекенд.\n\nimport axios from 'axios';\nimport { renderCategoriesList, renderProductsList } from './render-function';\nimport { emptyContainer } from './refs';\n\naxios.defaults.baseURL = 'https://dummyjson.com/products';\n\nexport function categoriesAxios() {\n    axios.get('/category-list')\n    .then(response => response.data.forEach(el => {\n        renderCategoriesList(el);\n    }))\n    .catch(error => console.log(error))\n};\n\nexport function productsAxios() {\n    let currentPage = 1;\n    axios.get(`?limit=12&skip=${(currentPage - 1)* 12}`)\n        .then(response => renderProductsList(response.data.products, 'all'))\n        .catch(error => error)\n        \n};\n\nexport function categoryAxios(category, startPagination, endPagination) {\n    axios.get(`/category/${category}`)\n        .then(response => { \n            if (response.data.products.length === 0) {\n                emptyContainer.classList.add('not-found--visible');\n                return;\n            }\n            emptyContainer.classList.remove('not-found--visible');\n            renderProductsList(response.data.products.slice(startPagination, endPagination), category);           \n        })\n        .catch(error => error)\n}","// константи, які будуть використовуватись в роботі.\n\nexport let startCategoryPagination = 0;\nexport let endCategoryPagination = 12;","// допоміжні функції, які знадобляться для реалізації завдання\nimport { categoriesList } from \"./refs\";\n\nexport function defaultCategory() {\n   if(categoriesList.querySelector('.categories__btn').textContent === 'all'){\n        categoriesList.querySelector('.categories__btn').classList.add('categories__btn--active');\n   } \n}","//Логіка сторінки Home\n\nimport { categoriesAxios, productsAxios, categoryAxios  } from \"./js/products-api\";\nimport { categoriesList, productsList } from \"./js/refs\";\nimport { startCategoryPagination, endCategoryPagination } from \"./js/constants\";\nimport { defaultCategory } from \"./js/helpers\";\n\ncategoriesAxios();\nproductsAxios();\ndefaultCategory();\n\n\ncategoriesList.addEventListener('click', (event) => {\n    if (event.target.tagName !== 'BUTTON') {\n        return;\n    }\n    categoriesList.querySelectorAll('.categories__btn').forEach((el) => el.classList.remove('categories__btn--active'));\n    \n    event.target.classList.add('categories__btn--active');\n    if (event.target.textContent === 'all') {\n        productsList.innerHTML = '';\n        productsAxios();\n        return;\n    }\n    \n    productsList.innerHTML = '';\n    categoryAxios(event.target.textContent, startCategoryPagination, endCategoryPagination);\n    \n})"],"names":["categoriesList","productsList","emptyContainer","renderCategoriesList","nameCategory","markup","renderProductsList","products","category","el","id","images","title","brand","price","axios","categoriesAxios","response","error","productsAxios","categoryAxios","startPagination","endPagination","startCategoryPagination","endCategoryPagination","defaultCategory","event"],"mappings":"oFAEO,MAAMA,EAAiB,SAAS,cAAc,aAAa,EACrDC,EAAe,SAAS,cAAc,WAAW,EACjDC,EAAiB,SAAS,cAAc,YAAY,ECD1D,SAASC,EAAqBC,EAAc,CAC/C,MAAMC,EAAS;AAAA,kEAC+CD,CAAY;AAAA,eAE1E,OAAOJ,EAAe,mBAAmB,YAAaK,CAAM,CAEhE,CAEO,SAASC,EAAmBC,EAAUC,EAAU,CAC/CA,IAAa,QACbD,EAAWA,EAAS,OAAOE,GAAMA,EAAG,WAAaD,CAAQ,GAE7D,MAAMH,EAASE,EAAS,IAAI,CAAC,CAAC,GAAAG,EAAI,OAAAC,EAAQ,MAAAC,EAAO,MAAAC,EAAO,SAAAL,EAAU,MAAAM,CAAK,IAE5D,uCAAuCJ,CAAE;AAAA,wCAChBC,EAAO,CAAC,CAAC,UAAUC,CAAK;AAAA,iCAC/BA,CAAK;AAAA,4EACsCC,CAAK;AAAA,8CACnCL,CAAQ;AAAA,wCACdM,CAAK;AAAA,OAExC,EAAE,KAAK,EAAE,EACVb,EAAa,mBAAmB,YAAaI,CAAM,CACvD,CCpBAU,EAAM,SAAS,QAAU,iCAElB,SAASC,GAAkB,CAC9BD,EAAM,IAAI,gBAAgB,EACzB,KAAKE,GAAYA,EAAS,KAAK,QAAQR,GAAM,CAC1CN,EAAqBM,CAAE,CAC/B,CAAK,CAAC,EACD,MAAMS,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEO,SAASC,GAAgB,CAE5BJ,EAAM,IAAI,mBADQ,EACyB,GAAI,EAAE,EAAE,EAC9C,KAAKE,GAAYX,EAAmBW,EAAS,KAAK,SAAU,KAAK,CAAC,EAClE,MAAMC,GAASA,CAAK,CAE7B,CAEO,SAASE,EAAcZ,EAAUa,EAAiBC,EAAe,CACpEP,EAAM,IAAI,aAAaP,CAAQ,EAAE,EAC5B,KAAKS,GAAY,CACd,GAAIA,EAAS,KAAK,SAAS,SAAW,EAAG,CACrCf,EAAe,UAAU,IAAI,oBAAoB,EACjD,MACH,CACDA,EAAe,UAAU,OAAO,oBAAoB,EACpDI,EAAmBW,EAAS,KAAK,SAAS,MAAMI,EAAiBC,CAAa,EAAGd,CAAQ,CACrG,CAAS,EACA,MAAMU,GAASA,CAAK,CAC7B,CCjCO,IAAIK,EAA0B,EAC1BC,EAAwB,GCA5B,SAASC,GAAkB,CAC5BzB,EAAe,cAAc,kBAAkB,EAAE,cAAgB,OAC/DA,EAAe,cAAc,kBAAkB,EAAE,UAAU,IAAI,yBAAyB,CAEhG,CCAAgB,IACAG,IACAM,IAGAzB,EAAe,iBAAiB,QAAU0B,GAAU,CAChD,GAAIA,EAAM,OAAO,UAAY,SAM7B,IAHA1B,EAAe,iBAAiB,kBAAkB,EAAE,QAASS,GAAOA,EAAG,UAAU,OAAO,yBAAyB,CAAC,EAElHiB,EAAM,OAAO,UAAU,IAAI,yBAAyB,EAChDA,EAAM,OAAO,cAAgB,MAAO,CACpCzB,EAAa,UAAY,GACzBkB,IACA,MACH,CAEDlB,EAAa,UAAY,GACzBmB,EAAcM,EAAM,OAAO,YAAaH,EAAyBC,CAAqB,EAE1F,CAAC"}