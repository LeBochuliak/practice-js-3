{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\nimport { cartCountFoo, goToSearch } from \"./js/helpers\";\nimport { productHandler, searchHandler } from \"./js/handlers\";\nimport { modalHandler } from \"./js/modal\";\nimport { productsList, modalConteiner, cartSummarySidebar, formEl } from \"./js/refs\";\nimport { cartAxios } from \"./js/products-api\";\nimport { cartProducts } from \"./js/constants\";\n\n\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ncartCountFoo();\ncartProductsFoo();\n\nasync function cartProductsFoo() {\n    const cart = JSON.parse(localStorage.getItem('cart')) || [];    \n    await cartAxios(cart);\n    renderCartSummary();     \n};\n\nfunction renderCartSummary() {\n    cartSummarySidebar.querySelector('[data-price]').textContent = `$${cartProducts.totalPrice.toFixed(2)}`;\n    cartSummarySidebar.querySelector('[data-count]').textContent = cartProducts.products.length;\n}\n\nproductsList.addEventListener('click', productHandler);\n\nmodalConteiner.addEventListener('click', async (event) => {\n    modalHandler(event);\n    if (event.target.classList.contains('modal-product__btn--cart')) {\n        productsList.innerHTML = '';\n        await cartProductsFoo();\n    }\n});\n\n\ncartSummarySidebar.addEventListener('click', event => {\n    \n    const btn = event.target.closest('.cart-summary__btn');\n    if(btn) {\n        iziToast.success({\n            title: 'Success!',\n            message: 'Your purchase has been successfully completed.',\n            position: 'center',\n            transitionIn: 'fadeIn',\n            backgroundColor: '#ff6b0a',\n            messageColor: 'white',\n            titleColor: 'white',\n            closeOnClick: true,\n            closeOnEscape: true,\n            progressBar: false,\n            icon: 'fa fa-check-circle',\n            iconColor: 'white',\n        });\n    }\n});\n\nformEl.addEventListener('submit', goToSearch);\n\n"],"names":["cartCountFoo","cartProductsFoo","cart","cartAxios","renderCartSummary","cartSummarySidebar","cartProducts","productsList","productHandler","modalConteiner","event","modalHandler","iziToast","formEl","goToSearch"],"mappings":"iKAaAA,IACAC,IAEA,eAAeA,GAAkB,CAC7B,MAAMC,EAAO,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GACzD,MAAMC,EAAUD,CAAI,EACpBE,GACJ,CAEA,SAASA,GAAoB,CACzBC,EAAmB,cAAc,cAAc,EAAE,YAAc,IAAIC,EAAa,WAAW,QAAQ,CAAC,CAAC,GACrGD,EAAmB,cAAc,cAAc,EAAE,YAAcC,EAAa,SAAS,MACzF,CAEAC,EAAa,iBAAiB,QAASC,CAAc,EAErDC,EAAe,iBAAiB,QAAS,MAAOC,GAAU,CACtDC,EAAaD,CAAK,EACdA,EAAM,OAAO,UAAU,SAAS,0BAA0B,IAC1DH,EAAa,UAAY,GACzB,MAAMN,EAAe,EAE7B,CAAC,EAGDI,EAAmB,iBAAiB,QAASK,GAAS,CAEtCA,EAAM,OAAO,QAAQ,oBAAoB,GAEjDE,EAAS,QAAQ,CACb,MAAO,WACP,QAAS,iDACT,SAAU,SACV,aAAc,SACd,gBAAiB,UACjB,aAAc,QACd,WAAY,QACZ,aAAc,GACd,cAAe,GACf,YAAa,GACb,KAAM,qBACN,UAAW,OACvB,CAAS,CAET,CAAC,EAEDC,EAAO,iBAAiB,SAAUC,CAAU"}