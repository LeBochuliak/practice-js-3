{"version":3,"file":"handlers-Cav2wBhR.js","sources":["../../src/js/refs.js","../../src/js/render-function.js","../../src/js/constants.js","../../src/js/products-api.js","../../src/js/helpers.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["// обʼєкт refs з посиланнями на елементи ДОМ.\n\nexport const categoriesList = document.querySelector('.categories');\nexport const productsList = document.querySelector('.products');\nexport const emptyContainer = document.querySelector('.not-found');\nexport const modalContentContainer = document.querySelector('.modal__content');\nexport const modalConteiner = document.querySelector('.modal');\nexport const formEl = document.querySelector('.search-form');\nexport const loadMoreBtn = document.querySelector('.load-more-btn');\nexport const modalCartBtn = document.querySelector('.modal-product__btn--cart');\nexport const cartCount = document.querySelector('[data-cart-count]');\nexport const modalWishlistBtn = document.querySelector('.modal-product__btn--wishlist');\nexport const wishlistCount = document.querySelector('[data-wishlist-count]');\nexport const cartSummarySidebar = document.querySelector('.cart-summary');\nexport const loader = document.querySelector('.loader');\nexport const categoryAllBtn = document.querySelector('.category-all');\nexport const modalLoader = document.querySelector('.modal-loader');","// функції для відображення елементів інтерфейсу.\nimport { categoriesList, productsList, modalContentContainer } from \"./refs\";\n\nexport function renderCategoriesList(nameCategory) {\n    const markup = `<li class='categories__item'>   \n                  <button type='button' class='categories__btn'>${nameCategory}</button>\n        </li>`;\n    return categoriesList.insertAdjacentHTML('beforeend', markup);\n    \n}\n\nexport function renderProductsList(products, category) {\n    if (category !== \"all\") {\n        products = products.filter(el => el.category === category);\n    }\n    const markup = products.map(({id, images, title, brand, category, price}) => {\n\n        return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`;\n    }).join(\"\");\n    productsList.insertAdjacentHTML('beforeend', markup);\n};\n\nexport function renderProduct({id, images, title, price, tags, description, shippingInformation, returnPolicy}) {\n    const markupTags = tags.map(el => `<li><p>${el}</p></li>`).join(\"\");\n    const markup =  \n        `<div class=\"js-modal-product-container\" data-id=${id}>\n            <img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n            <div class=\"modal-product__content\">\n                <p class=\"modal-product__title\">${title}</p>\n                <ul class=\"modal-product__tags\">${markupTags}</ul>\n                <p class=\"modal-product__description\">${description}</p>\n                <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n                <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n                <p class=\"modal-product__price\">Price: ${price}$</p>\n            </div>\n        </div>\n        \n`;\n    modalContentContainer.insertAdjacentHTML('beforeend', markup)\n}","// константи, які будуть використовуватись в роботі.\n\nexport const currentPage = {\n    page: 1\n};\n\n\nexport const formSubmitted = {\n    status: false,\n\n    setFormSubmitted(value) {\n    this.status = value;\n    return this.status;\n    },\n\n    getFormSubmitted() {\n    return this.status;\n    }\n}\n\nexport const cartProducts = {\n    products: JSON.parse(localStorage.getItem('cart')) || [],\n    totalPrice: 0,\n};\nexport const wishlistProducts = {\n    products: JSON.parse(localStorage.getItem('wishlist')) || [],\n};","// функції для запитів на бекенд.\n\nimport axios from 'axios';\nimport { renderCategoriesList, renderProductsList, renderProduct } from './render-function';\nimport { emptyContainer, loadMoreBtn, loader, categoryAllBtn, modalLoader } from './refs';\nimport { currentPage, cartProducts } from './constants';\n\naxios.defaults.baseURL = 'https://dummyjson.com/products';\n\nexport function categoriesAxios() {\n    setTimeout(() => {\n    categoryAllBtn.classList.remove('hidden-category-all');\n    }, 300);\n    loader.classList.remove('hidden');\n    axios.get('/category-list')\n    .then(response => response.data.forEach(el => {\n        renderCategoriesList(el);\n    }))\n    .catch(error => {\n            console.error('Error loading categories data:', error);\n            alert('Unfortunately, the categories data could not be loaded. Please try again later.');\n        })\n    .finally(() => \n    loader.classList.add('hidden'))\n};\n\nexport function productsListAxios() {\n    loader.classList.remove('hidden');\n    axios.get(`?limit=12&skip=${(currentPage.page - 1)* 12}`)\n        .then(response => {\n            loadMoreBtn.classList.add('is-hidden');\n            renderProductsList(response.data.products, 'all');\n            let pages = Math.ceil(response.data.total / 12);\n            if (pages > currentPage.page) {\n                loadMoreBtn.classList.remove('is-hidden')\n            }\n        })\n        .catch(error => {\n            console.error('Error loading products data:', error);\n            alert('Unfortunately, the products data could not be loaded. Please try again later.');\n        })\n        .finally(() => \n    loader.classList.add('hidden'))\n};\n\nexport function categoryAxios(category) {\n    loader.classList.remove('hidden');\n    axios.get(`/category/${category}?limit=12&skip=${(currentPage.page - 1)* 12}`)\n        .then(response => { \n            loadMoreBtn.classList.add('is-hidden');\n            if (response.data.products.length === 0) {\n                emptyContainer.classList.add('not-found--visible');\n                return;\n            };\n            emptyContainer.classList.remove('not-found--visible');\n            renderProductsList(response.data.products, category); \n            let pages = Math.ceil(response.data.total / 12);\n            if (pages > currentPage.page) {\n                loadMoreBtn.classList.remove('is-hidden')\n            }        \n        })\n        .catch(error => {\n            console.error('Error loading category data:', error);\n            alert('Unfortunately, the category data could not be loaded. Please try again later.');\n        })\n        .finally(() => \n            loader.classList.add('hidden'));\n};\n\nexport function productAxios(id) {\n    modalLoader.classList.remove('hidden');\n    axios.get(`/${id}`)\n        .then(response => renderProduct(response.data))\n        .catch(error => {\n            console.error('Error loading product data:', error);\n            alert('Unfortunately, the product data could not be loaded. Please try again later.');\n        })\n        .finally(() => \n            modalLoader.classList.add('hidden'));\n};\n\nexport function searchAxios(value) {\n    loader.classList.remove('hidden');\n    axios.get(`/search?q=${value}&limit=12&skip=${(currentPage.page - 1)* 12}`)\n        .then(response => {\n            loadMoreBtn.classList.add('is-hidden');\n            if (response.data.products.length === 0) {\n                emptyContainer.classList.add('not-found--visible');\n                return;\n            }\n            emptyContainer.classList.remove('not-found--visible');\n            renderProductsList(response.data.products, 'all');\n            let pages = Math.ceil(response.data.total / 12);\n            if (pages > currentPage.page) {\n                loadMoreBtn.classList.remove('is-hidden')\n            } \n        })\n        .catch(error => {\n            console.error('Error loading products data:', error);\n            alert('Unfortunately, the products data could not be loaded. Please try again later.');\n        })\n        .finally(() => \n            loader.classList.add('hidden'));\n\n};\n\nexport async function wishlistAxios(wishlist) {\n    loader.classList.remove('hidden');\n    try {\n    const requests = wishlist.map(id => axios.get(`/${id}`));\n    const responses = await Promise.all(requests);\n    const products = responses.map(res => res.data);\n    renderProductsList(products, 'all');\n    loader.classList.add('hidden');\n    }\n    catch (error) {\n        console.error(\"Error\", error);\n        loader.classList.add('hidden');\n    }\n    \n};\n\nexport async function cartAxios(cart) {\n    loader.classList.remove('hidden');\n    try {\n    cartProducts.totalPrice = 0;\n    const requests = cart.map(id => axios.get(`/${id}`));\n    const responses = await Promise.all(requests);\n    const products = responses.map(res => res.data);\n    cartProducts.totalPrice = products\n      .reduce((sum, el) => sum + el.price, 0);\n    \n    renderProductsList(products, 'all');\n    loader.classList.add('hidden');\n    }\n    catch (error) {\n        console.error(\"Error\", error);\n        loader.classList.add('hidden');\n    }\n};","// допоміжні функції, які знадобляться для реалізації завдання\nimport { categoriesList, productsList, modalCartBtn, cartCount, wishlistCount, modalWishlistBtn, cartSummarySidebar } from \"./refs\";\nimport { productsListAxios } from \"./products-api\";\nimport { currentPage, cartProducts, wishlistProducts } from \"./constants\";\n\n\nexport function defaultCategory() {\n   if(categoriesList.querySelector('.categories__btn').textContent === 'all'){\n        categoriesList.querySelector('.categories__btn').classList.add('categories__btn--active');\n   } \n}\n\nexport function clearSearchBtn(event) {\n   const input = event.target.closest('form').querySelector('.search-form__input');\n   if (event.target.classList.contains('search-form__btn-clear')) {\n      currentPage.page = 1;\n      input.value = '';\n      productsList.innerHTML = '';\n      if (window.location.pathname.endsWith('index.html')) {\n      categoriesList.querySelectorAll('.categories__btn').forEach((el) => el.classList.remove('categories__btn--active'));\n      defaultCategory();\n      }\n      productsListAxios();\n   }\n};\n\nexport function modalCartBtnText(id) {\n   if (cartProducts.products.includes(id)) {\n      modalCartBtn.textContent = 'Remove from Cart';\n      return;\n   };\n   modalCartBtn.textContent = 'Add to Cart';\n};\n\nexport function modalWishlistBtnText(id) {\n   if (wishlistProducts.products.includes(id)) {\n      modalWishlistBtn.textContent = 'Remove from Wishlist';\n      return;\n   };\n   modalWishlistBtn.textContent = 'Add to Wishlist';\n};\n\nexport function cartCountFoo() {\n   let cart, wishlist;\n\n   try {\n      cart = JSON.parse(localStorage.getItem('cart'));\n       if (!Array.isArray(cart)) cart = [];\n   } catch {\n      cart = [];\n   }\n\n   try {\n      wishlist = JSON.parse(localStorage.getItem('wishlist'));\n      if (!Array.isArray(wishlist)) wishlist = [];\n   } catch {\n      wishlist = [];\n   }\n\n   cartCount.textContent = cart.length;\n   wishlistCount.textContent = wishlist.length;\n};\n\nexport function goToSearch(event) {    \n    event.preventDefault()\n    if (event.currentTarget.elements.searchValue.value.trim() === '') {\n            alert('Please, enter a search term!');\n            return;\n        } \n    localStorage.setItem('searchValue', JSON.stringify(event.currentTarget.elements.searchValue.value));\n    window.location.href = './search.html';   \n}\n\n","// функції модального вікна (відкриття, закриття і так далі).\nimport { modalConteiner, modalCartBtn, modalWishlistBtn } from \"./refs\";\nimport { cartProducts, wishlistProducts } from \"./constants\";\nimport { cartCountFoo } from \"./helpers\";\n\nexport function modalHandler(event) {\n    if(event.target.classList.contains('modal__close-btn')) {\n        modalConteiner.classList.remove('modal--is-open');\n        modalConteiner.querySelector('.js-modal-product-container').remove();     \n    };\n\n    if(event.target.classList.contains('modal-product__btn--cart')) {\n        const id = event.currentTarget.querySelector('.js-modal-product-container').dataset.id;        \n        if (cartProducts.products.includes(id)) {\n            cartProducts.products = cartProducts.products.filter(elId => elId !== id)\n            localStorage.setItem('cart', JSON.stringify(cartProducts.products));\n            cartCountFoo();\n            modalCartBtn.textContent = 'Add to Cart';\n            return;\n        };\n        cartProducts.products.push(id);\n        localStorage.setItem('cart', JSON.stringify(cartProducts.products));\n        cartCountFoo();\n        modalCartBtn.textContent = 'Remove from Cart';\n    }\n\n    if(event.target.classList.contains('modal-product__btn--wishlist')) {\n        const id = event.currentTarget.querySelector('.js-modal-product-container').dataset.id;        \n        if (wishlistProducts.products.includes(id)) {\n            wishlistProducts.products = wishlistProducts.products.filter(elId => elId !== id)\n            localStorage.setItem('wishlist', JSON.stringify(wishlistProducts.products));\n            cartCountFoo();\n            modalWishlistBtn.textContent = 'Add to Wishlist';\n            return;\n        };\n        wishlistProducts.products.push(id);\n        localStorage.setItem('wishlist', JSON.stringify(wishlistProducts.products));\n        cartCountFoo();\n        modalWishlistBtn.textContent = 'Remove from Wishlist';\n    }\n}","// хендлери, які передаються в addEventListener.\nimport { categoriesList, productsList, modalConteiner, formEl } from \"./refs\";\nimport { productsListAxios, categoryAxios, productAxios, searchAxios } from \"./products-api\";\nimport { currentPage } from \"./constants\";\nimport { defaultCategory, modalCartBtnText, modalWishlistBtnText } from \"./helpers\";\n\nexport function categoryProductsHandler(event) {\n    if (event.target.tagName !== 'BUTTON') {\n        return;\n    }\n    currentPage.page = 1;\n    categoriesList.querySelectorAll('.categories__btn').forEach((el) => el.classList.remove('categories__btn--active'));\n    \n    event.target.classList.add('categories__btn--active');\n    if (event.target.textContent === 'all') {\n        productsList.innerHTML = '';\n        productsListAxios();\n        return;\n    }\n    \n    productsList.innerHTML = '';\n    categoryAxios(event.target.textContent);\n};\n\nexport function productHandler(event) {\n    const li = event.target.closest('li');\n    if (!li) return;\n    modalCartBtnText(li.dataset.id);\n    modalWishlistBtnText(li.dataset.id)\n    productAxios(li.dataset.id);  \n    \n    modalConteiner.classList.add('modal--is-open');\n}\n\nexport function searchHandler(event) {\n    event.preventDefault();\n    currentPage.page = 1;\n    if (event.target.elements.searchValue.value.trim() === '') {\n        alert('Please, enter a search term!');\n        productsList.innerHTML = '';\n        productsListAxios();\n        return;\n    }; \n    if (window.location.pathname.endsWith('index.html')) {\n        categoriesList.querySelectorAll('.categories__btn').forEach((el) => el.classList.remove('categories__btn--active'));\n        defaultCategory();\n    }\n    productsList.innerHTML = '';\n    searchAxios(event.target.elements.searchValue.value); \n};\n\nexport function loadMoreHandler() {\n    currentPage.page ++;\n    if (window.location.pathname.endsWith('index.html')) {\n    const category = document.querySelector('.categories__btn--active').textContent;\n    if (category !== 'all') {\n        categoryAxios(category);\n        return;\n    };\n    };\n\n    if (formEl.querySelector('input') !== '') {\n        searchAxios(formEl.querySelector('input').value);\n        return;\n    }\n    \n    productsListAxios();\n};\n\nexport function searchPageHandler(value) {\n    currentPage.page = 1;\n    if (value.trim() === '') {\n        alert('Please, enter a search term!');\n        return;\n    } \n    productsList.innerHTML = '';\n    searchAxios(value); \n};\n\n"],"names":["categoriesList","productsList","emptyContainer","modalContentContainer","modalConteiner","formEl","loadMoreBtn","modalCartBtn","cartCount","modalWishlistBtn","wishlistCount","cartSummarySidebar","loader","categoryAllBtn","modalLoader","renderCategoriesList","nameCategory","markup","renderProductsList","products","category","el","id","images","title","brand","price","renderProduct","tags","description","shippingInformation","returnPolicy","markupTags","currentPage","cartProducts","wishlistProducts","axios","categoriesAxios","response","error","productsListAxios","categoryAxios","productAxios","searchAxios","value","wishlistAxios","wishlist","requests","res","cartAxios","cart","sum","defaultCategory","clearSearchBtn","event","input","modalCartBtnText","modalWishlistBtnText","cartCountFoo","goToSearch","modalHandler","elId","categoryProductsHandler","productHandler","li","searchHandler","loadMoreHandler","searchPageHandler"],"mappings":"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"}